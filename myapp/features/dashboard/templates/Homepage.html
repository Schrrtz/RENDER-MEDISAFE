{% extends 'base.html' %}
{% load static %}

{% block title %}Homepage - MediSafe{% endblock %}

{% block extra_css %}
<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'healthcare-red': '#FF6B35',
                    'healthcare-blue': '#003366',
                    'healthcare-light-blue': '#0066CC'
                }
            }
        }
    }
</script>
<style>
    /* Homepage Specific Styles */
    .dashboard-hero {
        background: linear-gradient(135deg, #2c71b7 0%, #1e5a9a 100%);
        color: white;
        padding: 40px 0;
        text-align: center;
            position: relative;
            overflow: hidden;
        }

    .dashboard-hero::before {
        content: '';
            position: absolute;
            top: 0;
            left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" opacity="0.1"><path d="M0,60 Q300,0 600,60 T1200,60 L1200,120 L0,120 Z" fill="white"/></svg>');
        background-repeat: no-repeat;
            background-size: cover;
        }

        .hero-content {
            position: relative;
        z-index: 1;
        }

        .hero-title {
            font-size: 2.5rem;
        font-weight: 800;
            margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .hero-subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            margin-bottom: 20px;
    }

    .contact-info {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
    }

    .contact-card {
        background: rgba(255,255,255,0.15);
        backdrop-filter: blur(10px);
        padding: 10px 20px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
    }

    .contact-card i {
        font-size: 1.5rem;
    }

    .pricelist-section {
        padding: 40px 0;
    }

    .section-title {
        text-align: center;
        font-size: 2rem;
        font-weight: 800;
        color: var(--blue);
        margin-bottom: 30px;
        position: relative;
    }

    .section-title::after {
        content: '';
            position: absolute;
        bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
        width: 100px;
        height: 4px;
        background: linear-gradient(90deg, var(--blue), var(--red));
        border-radius: 2px;
    }

    #ds-carousel {
        position: relative;
        border-radius: 12px;
        overflow: hidden;
        background: #0f172a;
    }

    .ds-slide {
        position: relative;
        display: none;
    }

    .ds-slide:first-child {
        display: block;
    }

    .ds-slide-image {
        width: 100%;
        height: auto;
        display: block;
        max-height: 480px;
        object-fit: cover;
    }

    .ds-slide::after {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(180deg, rgba(0,0,0,0) 35%, rgba(0,0,0,0.6) 100%);
        pointer-events: none;
    }

    .ds-slide-overlay {
        position: absolute;
        left: 20px;
        right: 20px;
        bottom: 24px;
        color: white;
        text-shadow: 0 6px 18px rgba(0,0,0,0.45);
        z-index: 2;
    }

    .ds-slide-overlay h3 {
        margin: 0;
        font-weight: 800;
        font-size: 1.4rem;
    }

    .ds-slide-overlay p {
        margin: 6px 0 10px;
    }

    .price-category {
        margin-bottom: 40px;
    }

    .category-header {
        background: linear-gradient(135deg, var(--blue), var(--red));
        color: white;
        padding: 20px 30px;
        border-radius: 12px 12px 0 0;
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 0;
    }

    .price-table-container {
        overflow-x: auto;
    }

    .price-table {
        width: 100%;
        border-collapse: collapse;
            background: white;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .price-table th {
        background: var(--blue);
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: 600;
        font-size: 0.95rem;
        position: sticky;
            top: 0;
        z-index: 10;
    }

    .price-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #e5e7eb;
        color: var(--ink);
    }

    .price-table tr:hover {
        background: #f8fafc;
    }

    .price-table tr:last-child td {
        border-bottom: none;
    }

    .price-amount {
            font-weight: 600;
        color: var(--blue);
        font-family: 'Courier New', monospace;
    }

    .package-card {
            background: white;
            border-radius: 16px;
        padding: 25px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

    .package-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
        height: 5px;
        background: linear-gradient(90deg, var(--blue), var(--red));
    }

    .package-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        border-color: var(--blue);
    }

    .package-header {
            display: flex;
        justify-content: space-between;
            align-items: center;
        margin-bottom: 15px;
    }

    .package-name {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--blue);
    }

    .package-price {
        font-size: 1.8rem;
        font-weight: 800;
        color: var(--red);
        font-family: 'Courier New', monospace;
    }

    .package-includes {
        margin-top: 15px;
    }

    .package-includes h4 {
        color: var(--gray);
        font-size: 0.9rem;
            font-weight: 600;
        text-transform: uppercase;
        margin-bottom: 10px;
    }

    .package-list {
        list-style: none;
        padding: 0;
    }

    .package-list li {
        padding: 8px 0;
        padding-left: 25px;
            position: relative;
        color: var(--ink);
    }

    .package-list li::before {
        content: '✓';
        position: absolute;
        left: 0;
        color: var(--green);
            font-weight: 600;
    }

    .grid-2 {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
    }

    .grid-3 {
            display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
    }

    .info-banner {
        background: linear-gradient(135deg, #b7cce4 0%, #d4e6f1 100%);
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 40px;
        border-left: 5px solid var(--blue);
    }

    .info-banner h3 {
        color: var(--blue);
        margin-bottom: 10px;
        font-weight: 700;
    }

    .badge {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
            font-weight: 600;
    }

    .badge-inhouse {
        background: #d1fae5;
        color: #065f46;
    }

    .badge-sendout {
        background: #dbeafe;
        color: #1e40af;
    }

    @media (max-width: 768px) {
        .hero-title {
            font-size: 2rem;
        }
        .contact-info {
            flex-direction: column;
            gap: 15px;
        }
        .grid-2, .grid-3 {
                grid-template-columns: 1fr;
        }
    }

    :root {
        --green: #10b981;
        }
    /* cursor-ai: dashboard login swap - (removed) rely on standardized header login button */
    /* Quick links & CTA styles inspired by a modern hospital site (compact and local clinic friendly) */
    .clinic-quicklinks {
        display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:18px;
    }
    .clinic-ql-card {
        background: rgba(255,255,255,0.95);
        padding:12px 16px; border-radius:10px; box-shadow: 0 6px 18px rgba(22,45,78,0.06);
        display:flex; align-items:center; gap:10px; min-width:180px; cursor:pointer; border:1px solid rgba(0,0,0,0.03);
    }
    .clinic-ql-card i { font-size:1.25rem; color:var(--blue); }
    .clinic-cta { background:var(--blue); color:white; padding:10px 14px; border-radius:8px; font-weight:700; border:0; cursor:pointer; }
    .clinic-cta.secondary { background:white; color:var(--blue); border:2px solid rgba(30,90,154,0.12); }
    .news-ticker { background: linear-gradient(90deg,#fff,#f3f8ff); padding:8px 14px; border-radius:8px; display:flex; gap:16px; align-items:center; justify-content:center; margin-top:12px; }
    .news-ticker .item { color:var(--ink); font-weight:600; font-size:0.95rem; }
    @media (max-width:768px){ .clinic-ql-card{min-width:140px;} }
    </style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="dashboard-hero">
    <div class="hero-content">
        <h1 class="hero-title">MediSafe Medical</h1>
        <p class="hero-subtitle">Affordable • Reliable • Compassionate Healthcare Services</p>
        {# login CTA removed from dashboard per request - header login remains available for global use #}
        <div class="contact-info">
            <div class="contact-card">
                <i class="fas fa-phone"></i>
                <span>09685699664 / 88006290</span>
        </div>
            <div class="contact-card">
                <i class="fas fa-envelope"></i>
                <span>medisafe.medicalpateros@gmail.com</span>
        </div>
            <div class="contact-card">
                <i class="fas fa-map-marker-alt"></i>
                <span>1 C. Lorenzo St. Sto. Rosario Kanluran, Pateros Metro Manila</span>
        </div>
        </div>
      </div>
</section>

<!-- Compact Tabbed Services & Pricelist -->
<section class="pricelist-section" style="padding-top: 20px;">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 20px;">
        <h2 class="section-title">Services & Offerings</h2>

        <!-- Simple slideshow / hero highlights -->
        <div id="ds-carousel" style="margin-bottom: 24px;">
            <!-- Image slides: uses local facility images from HOMEPAGE PICTURES folder -->
            <div class="ds-slide" style="display:block;">
                <img src="{% static 'images/homepage/489948678_1232521225543146_8979836623608388132_n.jpg' %}" alt="MediSafe clinic exterior" class="ds-slide-image">
                <div class="ds-slide-overlay">
                    <h3>Comprehensive Care, Close to Home</h3>
                    <p>Consultations, labs, imaging and vaccines — all under one roof.</p>
                    <button class="clinic-cta" id="bookAppointmentBtn" style="display:inline-block; border:none; cursor:pointer;">Book an Appointment</button>
                </div>
            </div>

            <div class="ds-slide" style="display:none;">
                <img src="{% static 'images/homepage/586635633_1434216902040243_8285362125535417095_n.jpg' %}" alt="MediSafe laboratory team" class="ds-slide-image">
                <div class="ds-slide-overlay">
                    <h3>Fast, Reliable Lab Results</h3>
                    <p>In-house testing plus trusted send-out partners for accurate results.</p>
                    <button class="clinic-cta clinic-cta--small" id="viewLabServicesBtn" style="display:inline-block; border:none; cursor:pointer;">View Lab Services</button>
                </div>
            </div>

            <div class="ds-slide" style="display:none;">
                <img src="{% static 'images/homepage/Screenshot 2025-11-24 193954.png' %}" alt="Teleconsultation services" class="ds-slide-image">
                <div class="ds-slide-overlay">
                    <h3>Friendly Appointments & Teleconsults</h3>
                    <p>Book online or request a live consultation with our doctors.</p>
                    <button class="clinic-cta clinic-cta--alt" id="startConsultationBtn" style="display:inline-block; border:none; cursor:pointer;">Start Consultation</button>
                </div>
            </div>

            <button id="ds-prev" style="position:absolute; left:12px; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.05); border:none; padding:8px 10px; border-radius:8px; cursor:pointer;"><i class="fas fa-chevron-left"></i></button>
            <button id="ds-next" style="position:absolute; right:12px; top:50%; transform:translateY(-50%); background:rgba(0,0,0,0.05); border:none; padding:8px 10px; border-radius:8px; cursor:pointer;"><i class="fas fa-chevron-right"></i></button>

            <!-- Indicators -->
            <div id="ds-indicators" style="position:absolute; left:50%; transform:translateX(-50%); bottom:12px; display:flex; gap:8px; z-index:5;">
                <button class="ds-ind" data-index="0" style="width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.95); border:none; opacity:1;"></button>
                <button class="ds-ind" data-index="1" style="width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.6); border:none; opacity:0.9;"></button>
                <button class="ds-ind" data-index="2" style="width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.6); border:none; opacity:0.9;"></button>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs" style="background:transparent;">
            <div class="tab-buttons" style="display:flex; gap:8px; flex-wrap:wrap; margin-bottom:18px;">
                <button class="tab-btn active" data-tab="overview" style="padding:10px 14px; border-radius:10px; border:2px solid transparent; background:linear-gradient(90deg,#ffffff,#f5f8ff); cursor:pointer; font-weight:700;">Overview</button>
                <button class="tab-btn" data-tab="labservices" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #e6eefc; cursor:pointer;">Lab Services</button>
                <button class="tab-btn" data-tab="packages" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #eef7f0; cursor:pointer;">Packages</button>
                <button class="tab-btn" data-tab="imaging" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #fff0f0; cursor:pointer;">Imaging</button>
                <button class="tab-btn" data-tab="vaccines" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #fff6e6; cursor:pointer;">Vaccines</button>
                <button class="tab-btn" data-tab="doctors" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #e9fbe9; cursor:pointer;">Doctors</button>
                <button class="tab-btn" data-tab="schedule" style="padding:10px 14px; border-radius:10px; background:transparent; border:1px solid #f0f0f0; cursor:pointer;">Schedule</button>
            </div>

            <div class="tab-contents">
                <!-- Overview Tab -->
                <div class="tab-content" id="overview" style="display:block;">
                    <div class="grid-3">
                        <div class="package-card">
                            <i class="fas fa-stethoscope" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Consultations</h3>
                            <p style="color: var(--gray);">Professional medical consultations across specialties.</p>
                        </div>
                        <div class="package-card">
                            <i class="fas fa-vial" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Laboratories</h3>
                            <p style="color: var(--gray);">Full range of lab tests (see Lab Services tab for full list).</p>
                        </div>
                        <div class="package-card">
                            <i class="fas fa-x-ray" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Imaging</h3>
                            <p style="color: var(--gray);">X-ray, Ultrasound, ECG, Echo and more.</p>
                        </div>
                        <div class="package-card">
                            <i class="fas fa-syringe" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Vaccination</h3>
                            <p style="color: var(--gray);">Infant and adult immunization services.</p>
                        </div>
                        <div class="package-card">
                            <i class="fas fa-briefcase-medical" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Pre-Employment Packages</h3>
                            <p style="color: var(--gray);">Complete pre-employment screening packages.</p>
                        </div>
                        <div class="package-card">
                            <i class="fas fa-shield-alt" style="font-size: 2.2rem; color: var(--blue); margin-bottom: 12px;"></i>
                            <h3 style="color: var(--blue); margin-bottom: 6px;">Drug Testing</h3>
                            <p style="color: var(--gray);">DOH accredited drug testing available in-house.</p>
                        </div>
                    </div>
                </div>

                <!-- Lab Services Tab -->
                <div class="tab-content" id="labservices" style="display:none;">
                    <div class="info-banner">
                        <h3><i class="fas fa-info-circle"></i> In-House vs Send-Out</h3>
                        <p>Tests listed below are grouped by category. Prices removed for a cleaner browsing experience.</p>
                    </div>

                    <!-- Clinical Chemistry -->
                    <div class="price-category">
                        <div class="category-header"><i class="fas fa-flask"></i> Clinical Chemistry</div>
                        <div style="padding:14px; background:white; border-radius:8px;">
                            <strong>In-House:</strong>
                            <ul style="margin:8px 0 0; padding-left:18px; color:var(--ink);">
                                <li>FBS/RBS</li>
                                <li>Lipid Profile</li>
                                <li>Total Cholesterol</li>
                                <li>Triglycerides</li>
                                <li>HDL/LDL</li>
                                <li>Creatinine</li>
                                <li>BUN</li>
                                <li>BUA</li>
                                <li>AST/SGOT</li>
                                <li>ALT/SGPT</li>
                            </ul>
                            <strong style="display:block; margin-top:10px;">Send-Out (Others):</strong>
                            <ul style="margin:8px 0 0; padding-left:18px; color:var(--ink);">
                                <li>Albumin</li>
                                <li>Bilirubin Total (B1+B2)</li>
                                <li>LDH</li>
                                <li>Lipase</li>
                                <li>Total Protein / TPAG</li>
                                <li>Total CPK / CK-MB / CK-MM</li>
                                <li>Troponin T / I</li>
                                <li>Total Iron / TIBC / Ferritin</li>
                                <li>Ammonia / Lithium</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Hematology -->
                    <div class="price-category" style="margin-top:18px;">
                        <div class="category-header"><i class="fas fa-tint"></i> Hematology</div>
                        <div style="padding:14px; background:white; border-radius:8px;">
                            <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                <li>CBC</li>
                                <li>CBC with Platelet Count</li>
                                <li>Bleeding Time / Clotting Time</li>
                                <li>Reticulocyte Count / ESR</li>
                                <li>PBS / Malarial Smear</li>
                                <li>Protime (PT) / APTT / RH Factor</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Clinical Microscopy / Bacteriology / Drug Test -->
                    <div class="grid-3" style="margin-top:18px;">
                        <div class="price-category">
                            <div class="category-header"><i class="fas fa-microscope"></i> Clinical Microscopy</div>
                            <div style="padding:12px; background:white; border-radius:8px;">
                                <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                    <li>Urinalysis (IN-HOUSE)</li>
                                    <li>Fecalysis (IN-HOUSE)</li>
                                    <li>PT Serum / PT Urine</li>
                                    <li>Occult Blood FOBT</li>
                                    <li>Microalbumin / Creatinine Total / Clearance</li>
                                    <li>Uric Acid / Protein / Electrolytes</li>
                                </ul>
                            </div>
                        </div>

                        <div class="price-category">
                            <div class="category-header"><i class="fas fa-bacteria"></i> Bacteriology (Send-Out)</div>
                            <div style="padding:12px; background:white; border-radius:8px;">
                                <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                    <li>C/S</li>
                                    <li>Gram Stain</li>
                                    <li>Culture Only</li>
                                    <li>KOH</li>
                                </ul>
                            </div>
                        </div>

                        <div class="price-category">
                            <div class="category-header"><i class="fas fa-shield-alt"></i> Drug Test (In-House)</div>
                            <div style="padding:12px; background:white; border-radius:8px;">
                                <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                    <li>Drug Test (DOH Accredited)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Packages Tab -->
                <div class="tab-content" id="packages" style="display:none;">
                    <div class="price-category">
                        <div class="category-header"><i class="fas fa-briefcase-medical"></i> Pre-Employment Packages</div>
                        <div style="padding:14px; background:white; border-radius:8px;">
                            <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                <li>PACKAGE A — BASIC 5: CBC, UA, FA, CXR PA, PHYSICAL EXAM W/ FIT TO WORK</li>
                                <li>PACKAGE B — BASIC 5, ECG</li>
                                <li>PACKAGE C — BASIC 5, ECG, PAPSMEAR</li>
                                <li>PACKAGE D — BASIC 5, DRUG TEST</li>
                                <li>PACKAGE E — BASIC 5, PREGNANCY TEST (URINE)</li>
                                <li>PACKAGE F — BASIC 5, PREGNANCY TEST, DRUG TEST</li>
                                <li>PACKAGE G — BASIC 5, HEPA B SCREENING</li>
                                <li>PACKAGE H — BASIC 5, HEPA B SCREENING, DRUG TEST</li>
                                <li>PACKAGE I — BASIC 5, HEPA B SCREENING, PREGNANCY TEST</li>
                                <li>PACKAGE J — BASIC 5, HEPA B SCREENING, PREGNANCY TEST, DRUG TEST</li>
                                <li>PACKAGE K — BASIC 5, HEPA B SCREENING, DRUG TEST, ANTIGEN TEST</li>
                                <li>Food Handler — CHEST X-RAY, HAV, FECALYSIS</li>
                                <li>Non-Food Handler — CHEST X-RAY, FECALYSIS</li>
                            </ul>
                            <div style="background:#fff3cd; padding:12px; border-radius:8px; margin-top:12px; border-left:4px solid #ffc107;">Note: BASIC 5 typically includes CBC, UA, Fecalysis, Chest X-ray, and Physical Examination.</div>
                        </div>
                    </div>

                    <div class="price-category" style="margin-top:14px;">
                        <div class="category-header"><i class="fas fa-flask"></i> Clinical Chemistry Packages</div>
                        <div style="padding:14px; background:white; border-radius:8px;">
                            <ul style="margin:0; padding-left:18px; color:var(--ink);">
                                <li>CHEM 5 — FBS, BUA, CREA, TC, TG</li>
                                <li>CHEM 7 — FBS, BUA, CREA, TC, TG, HDL/LDL</li>
                                <li>CHEM 8 — FBS, BUA, BUN, CREA, TC, TG, HDL, LDL</li>
                                <li>CHEM 10 — above + SGPT, SGOT</li>
                                <li>CHEM 12 / CHEM 13 — extended electrolytes</li>
                            </ul>
                        </div>
                    </div>

                    <div class="grid-2" style="margin-top:14px;">
                        <div class="price-category">
                            <div class="category-header"><i class="fas fa-heartbeat"></i> Thyroid Function</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>THYROID A — FT3, FT4, TSH</li><li>THYROID B — FT3, FT4, TSH, T3, T4</li></ul></div>
                        </div>
                        <div class="price-category">
                            <div class="category-header"><i class="fas fa-heart"></i> Heart Check</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>HEART CHECK — CHEM 8, LDH, Na, K, Cl (with GP consultation)</li></ul></div>
                        </div>
                    </div>
                </div>

                <!-- Imaging Tab -->
                <div class="tab-content" id="imaging" style="display:none;">
                    <div class="price-category">
                        <div class="category-header"><i class="fas fa-x-ray"></i> Radiologic X-Ray</div>
                        <div style="padding:12px; background:white; border-radius:8px;">
                            <ul style="columns:2; -webkit-columns:2; column-gap:18px; list-style:disc; padding-left:18px; color:var(--ink);">
                                <li>ABD UP/SUPPINE</li>
                                <li>Elbow AP/LAT</li>
                                <li>Ankle AP/O or AP/L</li>
                                <li>Foot AP/O/LAT</li>
                                <li>Hand AP/O/LAT</li>
                                <li>Chest X-ray (PA/LAT)</li>
                                <li>Knee, Lumbar, Pelvis, Shoulder, Wrist</li>
                                <li>Thoracic / Thoracolumbar series</li>
                            </ul>
                        </div>
                    </div>

                    <div class="price-category" style="margin-top:12px;">
                        <div class="category-header"><i class="fas fa-heartbeat"></i> Ultrasound</div>
                        <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px; color:var(--ink);">
                            <li>Biophysical Profile Score (BPS)</li>
                            <li>Breast / Hepatobiliary / Liver / KUB</li>
                            <li>Pelvic / Transvaginal / Transrectal</li>
                            <li>Neck CF / Thyroid CF</li>
                            <li>Whole Abdomen / Upper Abdomen / Lower Abdomen</li>
                        </ul></div>
                        <div style="background:#e3f2fd; padding:12px; border-radius:8px; margin-top:12px; border-left:4px solid #2196f3;">Preparation notes retained from original content.</div>
                    </div>

                    <div class="grid-2" style="margin-top:12px;">
                        <div class="price-category"><div class="category-header"><i class="fas fa-heart"></i> ECG</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px; color:var(--ink);"><li>12 Lead ECG</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-heart-pulse"></i> Echo</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px; color:var(--ink);"><li>2D Echo with Doppler</li></ul></div></div>
                    </div>
                </div>

                <!-- Vaccines Tab -->
                <div class="tab-content" id="vaccines" style="display:none;">
                    <div style="background:#fff3cd; padding:12px; border-radius:8px; margin-bottom:12px; border-left:4px solid #ffc107;">DISCLAIMER: Brands may vary.</div>
                    <div class="grid-2">
                        <div class="price-category"><div class="category-header"><i class="fas fa-baby"></i> Infant Combination</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Hexaxim 6-in-1 — Sanofi</li><li>Infanrix Hexa — GSK</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-shield-virus"></i> Hepatitis B</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Engerix Adult — GSK</li><li>Engerix Pedia — GSK</li><li>Genevac Adult — Gen PH</li><li>Genevac Pedia — Gen PH</li></ul></div></div>
                    </div>
                    <div class="grid-3" style="margin-top:12px;">
                        <div class="price-category"><div class="category-header"><i class="fas fa-virus"></i> Hepatitis A</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Avaxim Pedia — Sanofi</li><li>Havrix Adult / Pedia — GSK</li><li>Mevac A — Vizcarra</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-shield-alt"></i> Hepatitis Combo</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Hep A & B Twinrix — GSK</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-lungs"></i> Pneumococcal</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Prevnar PCV 13 — Pfizer</li><li>PCV 15 — Vaxneuvance</li></ul></div></div>
                    </div>
                    <div class="grid-3" style="margin-top:12px;">
                        <div class="price-category"><div class="category-header"><i class="fas fa-baby"></i> Rotavirus</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Rotateq — MSD</li><li>Rotarix — GSK</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-thermometer-half"></i> Measles</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>M-Vac Measles — Gen PH</li><li>Teresivac — Gen PH</li><li>MMR III / Proquad — MSD</li></ul></div></div>
                        <div class="price-category"><div class="category-header"><i class="fas fa-syringe"></i> Others</div>
                            <div style="padding:12px; background:white; border-radius:8px;"><ul style="margin:0; padding-left:18px;"><li>Tdap</li><li>PPD Skin test</li><li>Chickenpox</li></ul></div></div>
                    </div>
                </div>

                <!-- Doctors Tab -->
                <div class="tab-content" id="doctors" style="display:none;">
                    <div class="grid-3">
                        <div class="package-card">
                            <h3 style="color: var(--blue); margin-bottom: 6px; font-size: 1.1rem;">Dr. Marian Joy A. Lopez</h3>
                            <p style="color: var(--red); font-weight:600; margin-bottom:6px;">MD, FPCP, FPCC, FPSE</p>
                            <p style="color:var(--gray);">Internal Medicine - Adult Cardiologist</p>
                        </div>
                        <div class="package-card">
                            <h3 style="color: var(--blue); margin-bottom: 6px; font-size: 1.1rem;">Dr. Margaret Denise P. Del Rosario</h3>
                            <p style="color: var(--red); font-weight:600; margin-bottom:6px;">MD</p>
                            <p style="color:var(--gray);">General Pediatrician</p>
                        </div>
                        <div class="package-card">
                            <h3 style="color: var(--blue); margin-bottom: 6px; font-size: 1.1rem;">Dr. Laurice P. Venturero</h3>
                            <p style="color: var(--red); font-weight:600; margin-bottom:6px;">MD</p>
                            <p style="color:var(--gray);">General Practitioner (Mon - Friday)</p>
                        </div>
                    </div>
                </div>

                <!-- Schedule Tab -->
                <div class="tab-content" id="schedule" style="display:none;">
                    <div class="price-table-container">
                        <table class="price-table">
                            <thead>
                                <tr>
                                    <th>Service</th>
                                    <th>Days</th>
                                    <th>Hours</th>
                                    <th>Cut-off Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Clinic Operating</td><td>Monday - Friday</td><td>7:30am - 5pm</td><td>N/A</td></tr>
                                <tr><td></td><td>Saturday</td><td>7:30am - 4:30pm</td><td>N/A</td></tr>
                                <tr><td>Drug Test and X-ray</td><td>Monday - Friday</td><td>7:30am - 4:30pm</td><td>4:30pm</td></tr>
                                <tr><td>Laboratory</td><td>Monday - Saturday</td><td>7:30am - 4:30pm</td><td>4pm</td></tr>
                                <tr><td>Ultrasound</td><td>Monday - Friday</td><td>8am - 4pm</td><td>4pm</td></tr>
                                <tr><td>2D Echo</td><td>By appointment</td><td>N/A</td><td>N/A</td></tr>
                                <tr><td colspan="4"><strong>Sunday: CLOSED</strong></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Tab + Carousel scripts -->
<script>
document.addEventListener('DOMContentLoaded', function(){
    // Check if user is logged in
    const isLoggedIn = "{{ is_logged_in|yesno:'true,false' }}" === 'true';
    
    // Tabs
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    tabBtns.forEach(btn => btn.addEventListener('click', function(){
        tabBtns.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const target = btn.getAttribute('data-tab');
        tabContents.forEach(tc => { tc.style.display = tc.id===target ? 'block' : 'none'; });
        window.scrollTo({top: document.querySelector('.section-title').offsetTop - 20, behavior: 'smooth'});
    }));

    // Carousel
    const slides = Array.from(document.querySelectorAll('#ds-carousel .ds-slide'));
    const indicators = Array.from(document.querySelectorAll('#ds-indicators .ds-ind'));
    let cur = 0; let auto;
    const show = (index) => {
        slides.forEach((s,i)=> s.style.display = i===index ? 'block' : 'none');
        // update indicators if present
        if(indicators.length){ indicators.forEach((b,i)=> b.style.opacity = i===index ? '1' : '0.6'); }
    };
    document.getElementById('ds-prev').addEventListener('click', ()=>{ cur = (cur-1+slides.length)%slides.length; show(cur); reset(); });
    document.getElementById('ds-next').addEventListener('click', ()=>{ cur = (cur+1)%slides.length; show(cur); reset(); });
    // indicator clicks
    if(indicators.length){ indicators.forEach(btn => btn.addEventListener('click', ()=>{ const idx = parseInt(btn.getAttribute('data-index')||0,10); cur = idx; show(cur); reset(); })); }
    function start(){ auto = setInterval(()=>{ cur=(cur+1)%slides.length; show(cur); }, 5000); }
    function reset(){ clearInterval(auto); start(); }
    show(0); start();
    
    // Slideshow button navigation handlers
    const bookAppointmentBtn = document.getElementById('bookAppointmentBtn');
    if (bookAppointmentBtn) {
        bookAppointmentBtn.addEventListener('click', function() {
            window.location.href = '{% url "consultations" %}';
        });
    }
    
    const viewLabServicesBtn = document.getElementById('viewLabServicesBtn');
    if (viewLabServicesBtn) {
        viewLabServicesBtn.addEventListener('click', function() {
            if (isLoggedIn) {
                window.location.href = '{% url "labresults" %}';
            } else {
                // Show login message
                const note = document.createElement('div');
                note.textContent = 'You need to log in to access Lab Results.';
                note.style.cssText = 'position:fixed;top:20px;right:20px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;padding:12px 16px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,.15);z-index:3000;font-weight:700;';
                document.body.appendChild(note);
                setTimeout(()=>{ note.style.opacity='0'; note.style.transition='opacity .3s'; setTimeout(()=>note.remove(),300); }, 2200);
                // Open login modal if present
                const loginModal = document.getElementById('loginModal');
                const loginBtn = document.getElementById('loginBtn');
                if (loginModal) {
                    loginModal.classList.remove('hidden');
                    loginModal.classList.add('flex');
                } else if (loginBtn) {
                    loginBtn.click();
                }
            }
        });
    }
    
    const startConsultationBtn = document.getElementById('startConsultationBtn');
    if (startConsultationBtn) {
        startConsultationBtn.addEventListener('click', function() {
            window.location.href = '{% url "consultations" %}';
        });
    }
    
});
</script>

{% endblock %}
